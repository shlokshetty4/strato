{"ast":null,"code":"import React,{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function UsersTable(){const[users,setUsers]=useState([]);const[filterMfa,setFilterMfa]=useState('');useEffect(()=>{fetch('/api/users').then(res=>res.json()).then(setUsers).catch(console.error);},[]);const filtered=users.filter(u=>{if(filterMfa==='enabled')return u.mfaEnabled;if(filterMfa==='disabled')return!u.mfaEnabled;return true;});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"mr-2\",children:\"Filter MFA:\"}),/*#__PURE__*/_jsxs(\"select\",{value:filterMfa,onChange:e=>setFilterMfa(e.target.value),className:\"border px-2 py-1\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All\"}),/*#__PURE__*/_jsx(\"option\",{value:\"enabled\",children:\"Enabled\"}),/*#__PURE__*/_jsx(\"option\",{value:\"disabled\",children:\"Disabled\"})]})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full bg-white border\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 border\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 border\",children:\"MFA\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 border\",children:\"Days Since Password\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 border\",children:\"Days Since Access\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filtered.map(u=>{const warnPwd=u.daysSincePasswordChange>365;const warnAccess=u.daysSinceLastAccess>90;return/*#__PURE__*/_jsxs(\"tr\",{className:warnPwd||warnAccess?'bg-yellow-100':'',children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2 border\",children:u.name}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2 border\",children:u.mfaEnabled?'Yes':'No'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2 border\",children:u.daysSincePasswordChange}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2 border\",children:u.daysSinceLastAccess})]},u.id);})})]})]});}","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","UsersTable","users","setUsers","filterMfa","setFilterMfa","fetch","then","res","json","catch","console","error","filtered","filter","u","mfaEnabled","children","className","value","onChange","e","target","map","warnPwd","daysSincePasswordChange","warnAccess","daysSinceLastAccess","name","id"],"sources":["/Users/shlokshetty/Projects/strato/frontend/src/components/UsersTable.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nexport default function UsersTable() {\n  const [users, setUsers] = useState([]);\n  const [filterMfa, setFilterMfa] = useState('');\n\n  useEffect(() => {\n    fetch('/api/users')\n      .then((res) => res.json())\n      .then(setUsers)\n      .catch(console.error);\n  }, []);\n\n  const filtered = users.filter(u => {\n    if (filterMfa === 'enabled') return u.mfaEnabled;\n    if (filterMfa === 'disabled') return !u.mfaEnabled;\n    return true;\n  });\n\n  return (\n    <div>\n      <div className=\"mb-4\">\n        <label className=\"mr-2\">Filter MFA:</label>\n        <select\n          value={filterMfa}\n          onChange={e => setFilterMfa(e.target.value)}\n          className=\"border px-2 py-1\"\n        >\n          <option value=\"\">All</option>\n          <option value=\"enabled\">Enabled</option>\n          <option value=\"disabled\">Disabled</option>\n        </select>\n      </div>\n      <table className=\"min-w-full bg-white border\">\n        <thead>\n          <tr>\n            <th className=\"px-4 py-2 border\">Name</th>\n            <th className=\"px-4 py-2 border\">MFA</th>\n            <th className=\"px-4 py-2 border\">Days Since Password</th>\n            <th className=\"px-4 py-2 border\">Days Since Access</th>\n          </tr>\n        </thead>\n        <tbody>\n          {filtered.map(u => {\n            const warnPwd = u.daysSincePasswordChange > 365;\n            const warnAccess = u.daysSinceLastAccess > 90;\n            return (\n              <tr key={u.id} className={warnPwd || warnAccess ? 'bg-yellow-100' : ''}>\n                <td className=\"px-4 py-2 border\">{u.name}</td>\n                <td className=\"px-4 py-2 border\">{u.mfaEnabled ? 'Yes' : 'No'}</td>\n                <td className=\"px-4 py-2 border\">{u.daysSincePasswordChange}</td>\n                <td className=\"px-4 py-2 border\">{u.daysSinceLastAccess}</td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}